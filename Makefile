# ---------------------------------------------------------
# macOS / Linux C++ Makefile
# 适用于包含本地头文件 (conioex.h) 的简单项目
# ---------------------------------------------------------

# 1. 编译器设置 (Mac 上 g++ 通常是指向 clang++ 的)
CXX = g++

# 2. 编译选项
# -Wall: 显示所有警告 (非常有帮助)
# -std=c++17: 使用 C++17 标准 (建议使用现代标准)
# -g: 生成调试信息 (如果你需要用 lldb 调试)
CXXFLAGS = -Wall -std=c++17 -g

# 3. 目标文件名称 (编译出来的可执行文件名)
TARGET = main

# 4. 源文件列表
SRCS = main.cpp

# 5. 头文件依赖 (这样修改头文件后，make 会知道重新编译)
HEADERS = conioex.h

# ---------------------------------------------------------
# 编译规则
# ---------------------------------------------------------

# 默认目标 (只输入 make 时执行这个)
all: $(TARGET)

# 链接规则: 告诉编译器如何生成可执行文件
# $@ 代表目标名 (main)
# $^ 代表所有依赖文件 (main.cpp conioex.h)
$(TARGET): $(SRCS) $(HEADERS)
	$(CXX) $(CXXFLAGS) $(SRCS) -o $(TARGET)

# 清理规则
# 输入 make clean 时执行，删除生成的可执行文件
clean:
	rm -f $(TARGET)
	rm -f *.o